# iRead 《计算机网络》
<!-- TOC -->

- [1. 概述](#1-概述)
    - [1.1. 计算机网络的应用](#11-计算机网络的应用)
        - [1.1.1. 商业用户](#111-商业用户)
        - [1.1.2. 家庭用户](#112-家庭用户)
        - [1.1.3. 移动用户](#113-移动用户)
        - [1.1.4. 社会问题](#114-社会问题)
    - [1.2. 网络硬件](#12-网络硬件)
        - [个人区域网（Personal area network, PAN）](#个人区域网personal-area-network-pan)
        - [局域网（Local area network, LAN）](#局域网local-area-network-lan)
        - [城域网(Metropolitan Area Network, MAN)](#城域网metropolitan-area-network-man)

<!-- /TOC -->
## 1. 概述

新的模型下，由大量独立的、但相互链接起来的计算机共同完成计算任务。本书主题是如何设计这些网络，并且将这些网络组织起来。

**计算机网络**：通过同一种技术相互连接起来的一组自主计算机的集合。

网络可以有不同的大小、形状和形式。Internet 或者万维网都不是计算机网络。Internet 并不是一个单一的网络，而是一个由许多个网络构成的网络； Web 是一个分布式系统，它运行在 Internet 上。

**分布式系统**：在一个分布式系统中，一组独立的计算机展现给用户的是一个统一的整体，就好像是一个系统。通常，对用户来说，分布式系统只有一个模型或者范型。操作系统之上有一层软件中间件负责实现这个模型。
WWW 就是一个分布式系统，所有的一切看起来就好像是一个文档（Web页面）一样。

在计算机网络中，这种统一性、模型以及其中的软件都不存在。用户看到的是实际的机器，计算机网络并没有使这些机器看起来是统一的，或者使它们的行为是统一的。如果一个用户希望在一台远程机器上运行一个程序，那么，他必须登录到远程机器上，然后在那台机器上运行该程序。

因此，网络和分布式系统的区别在于，软件（特别是操作系统）上的，而非硬件。

### 1.1. 计算机网络的应用

#### 1.1.1. 商业用户

- 主要涉及的问题是资源共享，其目标是让每一个人都可以访问所有的程序、设备及特殊的数据是，并且做到跟这些资源和用户的物理位置无关。比如：让一个办公室里的所有工作人员共用一台打印机。
- 比共享物理资源更重要的是共享信息。称为VPNs(Virtual Private Networks) 的网络可能会被用到加入不同地点的个人网络，成为一个扩展网络。
- ***主要目标*** 是要打破地理位置束缚(tyranny of geography)
- 客户-服务器模型(client-server model)：数据存储在性能较强大的计算机（服务器）上，由系统管理员对其维护。客户使用客户端访问远程数据。客户和服务器通过网络连接起来。
- Web application 是最为广泛的一个实现，服务器产生Web 页面。
- CS 模型设计涉及了两个进程，一个位于客户机上，一个位于服务器上。通过请求和应答的方式。
- ***第二个目标*** 是满足人的需要。为人提供强大的通信媒介。比如Email，分布式工作协作。VoIP(Voice over IP)或者 IP telephony 视频会议。桌面共享
- ***第三个目标*** 电子商务活动，例如从不同供应商购买电子系统，然后将部件装配起来。通过Internet 与客户做各种交易。

#### 1.1.2. 家庭用户

PC 的主要理由可能是为了访问Internet。

- ***第一类广泛应用***：个人与数据库的交互，浏览获取信息。
- ***第二类广泛应用***：个人与个人的通信，或者对等通信(peer-to-peer communication)，许多p2p系统没有中心数据库，取而代之的是每个用户维护他那部分的数据，提供给附近用户（系统成员）一个列表。事实上，Email 也是一种p2p的应用。即时消息(Twitter，多人消息服务)、聊天室都是这种思想。还有新闻组，每个人都可以张贴消息，所有其他订阅该新闻组的人都可以阅读。与聊天室不同的是，新闻组不是实时的，其中的消息将被保存起来。社交网络应用介于p2p和获取信息之间。流动的信息驱使了人们之间的关系(Facebook)。小团队内容创建（Wikipedia）
- ***第三类网络应用***：广义电子商务。家庭购物，允许用户在加浏览上千家公司的在线商品目录(amazon，淘宝等)。直接访问金融机构，电子方式来支付、管理银行的账户、处理投资。二手市场，在线拍卖。
- ***第四类网络应用***：娱乐。包括游戏、IPTV、视频点播（直播）、虚拟游戏设备等。
- ***第五类应用***：泛在计算（物联网）系统，例如power-line networks 系统，电视插入墙里即可。RFID技术。

#### 1.1.3. 移动用户

无线网络是关键。
- 蜂窝数据，支持移动电话。
- Wireless hotspots 技术基于802.11标准。是另一种移动计算机的无线网络。

无线网络和移动计算常常被联系在一起，其实他们不是一回事。无线移动应用：PDA (个人数字助理)

关键的无线移动应用：移动手机（SMS）。随着3G和4G的出现，Internet和手机会师了。产生了智能手机。许多先进的手机连接到了移动热点上，自动切换最佳的运行网络。

电子阅读器，也是差不多。

GPS (Global positioning system)接收器可以定位手机。

NFC（Near Field Communication）可以和RFID 智能卡进行交互。

移动支付（移动商务）

传感网络。收集和无线中继感受到的物理信息。节点可以是车和手机。

可穿戴设备。

#### 1.1.4. 社会问题

- 网络经营商是否要监管内容，如果要的化，言论自由又如何保证。
- P2P 网络的用户也可能不能使用这个网络应用，由于网络运营商无利可图。可能会区别对待，钱多服务好。
- 版权的问题，政府和公民的权益冲突。
- cookies 可能窃取信息，大公司拥有大量个人信息。
- 手机的地点隐私。
- 匿名的消息可以提升隐私性，然而匿名指控不能用作证据。
- 消息来源是否可靠。
- 垃圾邮件问题
- 僵尸网络，钓鱼网站
- 验证码来确认是个人
- 加密信息
- 新问题和旧的法律产生冲突

### 1.2. 网络硬件
关于计算机网络，没有一种普遍被接受的分类方法，但是有两个因素非常重要：传输技术（transmission technology）、距离尺度(scale)。

传输技术普遍使用的两种：
- 广播式链接：只有一个通信信道，网络上所有的机器都共享该信道。机器之间传递的是短消息（在有些上下文环境中称为分组或包，packets），然和一台机器发送的短消息都可以被其他所有机器接收到。 packet 中有一个地址域，指明了该 packet 的目标接收者。机器接收一个 packet 后，它会检查地址域，如果该packet正是发送给它的，那它就处理该packet，否则，忽略。广播系统也允许将一个packet发送给所有的目标机器，一般的作法是在地址域中使用一个特殊的编码。这种操作叫做广播(boradcasting)。有些广播系统也会支持传输给一组机器，即所有机器的一个子集，这种模式称为多播(multicasting)，在地址域中的以为来表示多播，剩下$n-1$位来存放组的编号。一个packet发送给特定的组的时候，它将被递交到所有订阅了该组的机器。
- 点到点链接：是有许多连接构成的，连接机器对。为了将一个packet从源头传送到目的地，该packet可能首先要经过一台或多台中间机器。通常可能存在多条不同长度而路径，所以找到一条好的路径是非常重要的。只有一个发送方和一个接收方的点到点传输模式有时候也称为单播(unicasting)。

**一般原则**：越小的、地理位置局部化的网络倾向使用广播传输模式，而大的网络通常使用点到点(point-to-point)。

另一个分类准则是距离尺度：不同的距离尺度将会使用不同的技术。
- 个人区域网：仅仅供一个人使用的网络。助听器、起搏器等。
- 局域网：小于一个校园（1km）
- 城域网
- 广域网：同一个洲
- Internet：地球

两个或者多个网络连接起来之后称为互联网。更大的互联网有太空互联网（Interplanetary Internet）

#### 个人区域网（Personal area network, PAN）

可以让设备在个人区域内进行通信。常见的例子是连接计算机及其外围设备的无线网络。之前各个设备需要通过专用的接口和缆线进行连接，现在也可使用蓝牙等进行连接。
最简单的形式是，蓝牙网络使用主仆范例，PC通常是主，鼠标、键盘等是仆从。主告诉仆从使用哪个地址，什么时候他们可以广播，他们可以的传输时间，使用的频率等。

蓝牙也可以用到其他的配置上。例如耳机、手机、音乐播放器、车等。

PAN 也可以使用其他技术来实现，例如RFID在智能卡和图书馆中的应用。

#### 局域网（Local area network, LAN）

用于连接个人电脑和电子产品，让他们共享资源，交换信息。

无线 LAN 近来非常流行，尤其是在家中，和旧的写字楼，餐厅等安装线缆比较困难的地方。这些系统中，每一台电脑都有无线通信模块。绝大多数情况下，每台电脑和AP(Access Point)，无线路由，或者基站进行通信，传递packets 与无线电脑之间，也和 Internet 通信。

标准的无线LAN 也称为 IEEE 802.11 或者是 WiFi。

有线LAN使用不同的传输技术。
特征：
- 范围：LAN的覆盖范围是有限的，也就是最差情况下的传输时间是有限的，而且可以预先知道其上界，这样就可以使用某种特定的协议设计，简化网络的管理。
- 传输技术
- 拓扑结构：总线型、环型。

IEEE 802.3 (Ethernet)就是一种非集中控制的、基于总线的广播式网络。Switched Ethernet是一种，每一台电脑通过Ethernet 协议连接到switch，使用点到点链接。switch 的工作是中继packets与电脑之间。当两台机器同时想传输数据的时候，总线型的网网络需要通过一种仲裁机制来解决冲突问题。每台计算机只是等待一个随机的时间，然后重新尝试发送数据。

环型的网络中，每一位都沿着自己的路径独立向前传播，而不需要等待它所属分组的其他位。通常情况下，每一位环绕一周所需要的时间也就是相当于传送几个位的时间，常常在整个packet被传送出去之前，大多数的位已经走完一周了。为了避免并发访问，制定如 IEEE 802.5(IBM令牌环)或者 FDDI 等协议。

有时，还可以尝试将一个LAN 分开成多个，但是物理上的分割比较困难，使用虚拟LAN 或者VLAN。每一个端口标记为不同颜色，广播packets 到某类端口时，其他端口不会接收到，可以看作不同的LAN。

广播式网络可以进一步分为静态和动态的。划分的准则是信道的分配方式。
- 静态：将时间分成离散的间隔，并使用一种轮循算法，每一台机器只有在它的时间槽(time slot)到达的时候才可以广播数据。然而，若一台机器在它所分配到的时间槽中不需要通信，那么就浪费了信道的资源。
- 动态：分为集中式和非集中式的。

家庭网络：
- 安装简单
- 防错操作
- 低价
- 可以从简单少量开始
- 安全，可靠

例如 Powewr-line networks

#### 城域网(Metropolitan Area Network, MAN)

